webpackJsonp([1],{11:function(t,e,i){i(40);var s=i(8)(i(44),i(37),null,null);t.exports=s.exports},13:function(t,e,i){"use strict";var s=i(2),n=i(42),a=i(36),o=i.n(a);s.a.use(n.a),e.a=new n.a({routes:[{path:"/",name:"Register",component:o.a}]})},32:function(t,e,i){t.exports=i.p+"static/img/favicon_change.c802fea.png"},36:function(t,e,i){i(41);var s=i(8)(i(45),i(38),null,null);t.exports=s.exports},37:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"app"}},[i("router-view",{attrs:{uid:t.uid,wappid:t.wappid,url:t.redirect_url,fid:t.fid}})],1)},staticRenderFns:[]}},38:function(t,e,i){t.exports={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"reg"}},[i("div",{staticClass:"main"},[t._m(0),t._v(" "),i("div",{staticClass:"input-group input-group-lg"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.mobile,expression:"mobile"}],staticClass:"form-control",staticStyle:{"font-size":".85rem","border-radius":"0px"},attrs:{type:"text",name:"phone",placeholder:"请输入手机号"},domProps:{value:t.mobile},on:{keyup:t.inputVerify,input:function(e){e.target.composing||(t.mobile=e.target.value)}}}),t._v(" "),i("span",{staticClass:"input-group-btn"},[i("button",{staticClass:"btn btn-default send-button",staticStyle:{"border-radius":"0px","font-size":".85rem"},attrs:{disabled:t.disabled||t.time>0,type:"button"},on:{click:t.sendVerifyCode}},[i("p",{class:{sended:t.disabled},staticStyle:{"font-size":".75rem"}},[t._v(t._s(t.text))])])])]),t._v(" "),i("div",{staticClass:"input-group input-group-lg"},[i("input",{directives:[{name:"model",rawName:"v-model",value:t.code,expression:"code"}],staticClass:"form-control",staticStyle:{"font-size":".85rem"},attrs:{type:"text",name:"code",placeholder:"请输入5位验证码"},domProps:{value:t.code},on:{keyup:t.inputCode,input:function(e){e.target.composing||(t.code=e.target.value)}}})]),t._v(" "),i("button",{staticClass:"btn btn-lg btn-validate",staticStyle:{color:"white"},attrs:{disabled:t.validating},on:{click:t.validate}},[t._v("注册")])]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"head-title"},[s("p",{staticClass:"icon"},[s("img",{attrs:{src:i(32)}})]),t._v(" "),s("span",[t._v("皖新智慧校园")])])},function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"copyright"},[i("span",[t._v("Copyright @2010-2017")])])}]}},40:function(t,e){},41:function(t,e){},44:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"app",data:function(){return{uid:"",wappid:"",redirect_url:"http://test.8dsun.com/WebApp/appPersonCenter",fid:""}},mounted:function(){this.uid=this.$route.query.uid,this.fid=this.$route.query.fid,this.wappid=this.$route.query.wappid,this.redirect_url=this.$route.query.redirect_url?this.$route.query.redirect_url:this.redirect_url},components:{},computed:{}}},45:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={name:"Register",props:["uid","wappid","url","fid"],data:function(){return{code:"",second:60,mobile:"",time:0,disabled:!0,isTrue:!1,validating:!0}},methods:{run:function(){this.time=this.second,this.timer()},timer:function(){this.time>0?(this.time--,setTimeout(this.timer,1e3)):this.disabled=!1},sendVerifyCode:function(){this.disabled=!0,setTimeout(this.sended,1e3)},sended:function(){this.run(),this.axios.post("http://k12.edu/laravel-sms/verify-code",{mobile:this.mobile,mobile_rule:"mobile_required"}).then(function(t){1!=t.data.success&&alert(t.data.message)})},inputVerify:function(){/^1[34578]\d{9}$/.test(this.mobile)?this.disabled=!1:this.disabled=!0},inputCode:function(){5==this.code.length?this.validating=!1:this.validating=!0},validate:function(){var t=this;""==this.code?alert("请输入4位验证码"):this.axios.post("http://k12.edu/validateCode",{mobile:this.mobile,verifyCode:this.code,mobile_rule:"mobile_required"}).then(function(e){if(console.log(e),0===e.data.status)t.code="",t.validating=!0,alert("您输入的验证码不正确，请重试");else{var i="http://k12.edu/v1/systemRegister/"+t.uid+"/"+t.mobile+"/"+t.wappid;t.axios.get(i).then(function(e){1==e.data.status&&(location.href=t.url+"/#/?uid="+t.uid+"&fid="+t.fid+"&wappid="+t.wappid),console.log(e)})}})}},computed:{text:function(){return this.time>0?this.time+"s 后重新获取":"发送验证码"}}}},46:function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var s=i(2),n=i(11),a=i.n(n),o=i(13),r=i(12),d=i.n(r),u=i(10),l=i.n(u);s.a.use(d.a,l.a),s.a.config.productionTip=!1,new s.a({el:"#app",router:o.a,template:"<App/>",components:{App:a.a}})}},[46]);
//# sourceMappingURL=app.4992959280029c3ed4a3.js.map